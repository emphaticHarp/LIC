╔════════════════════════════════════════════════════════════════════════════════╗
║                     CALCULATOR COMPONENT STRUCTURE                             ║
╚════════════════════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────────────┐
│                          DASHBOARD (page.tsx)                               │
│                                                                             │
│  ┌──────────────────────────────────────────────────────────────────────┐  │
│  │                    FloatingCalculator Component                      │  │
│  │                                                                      │  │
│  │  ┌────────────────────────────────────────────────────────────────┐ │  │
│  │  │  Floating Button (Bottom-Right Corner)                        │ │  │
│  │  │  ┌──────────────────────────────────────────────────────────┐ │ │  │
│  │  │  │  [📊 Calculator Icon]                                   │ │ │  │
│  │  │  │  Gradient Blue Background                              │ │ │  │
│  │  │  │  Hover: Scale & Shadow Effect                          │ │ │  │
│  │  │  │  Tooltip: "Advanced Calculator"                        │ │ │  │
│  │  │  └──────────────────────────────────────────────────────────┘ │ │  │
│  │  │                                                                │ │  │
│  │  │  onClick → setOpen(true)                                      │ │  │
│  │  └────────────────────────────────────────────────────────────────┘ │  │
│  │                                                                      │  │
│  │  ┌────────────────────────────────────────────────────────────────┐ │  │
│  │  │  CalculatorDialog Component (Modal)                           │ │  │
│  │  │                                                                │ │  │
│  │  │  ┌──────────────────────────────────────────────────────────┐ │ │  │
│  │  │  │  Header (Gradient Blue)                                │ │ │  │
│  │  │  │  Title: "Advanced Calculator"                          │ │ │  │
│  │  │  │  Close Button (X)                                      │ │ │  │
│  │  │  └──────────────────────────────────────────────────────────┘ │ │  │
│  │  │                                                                │ │  │
│  │  │  ┌──────────────────────────────────────────────────────────┐ │ │  │
│  │  │  │  Tabs Navigation                                        │ │ │  │
│  │  │  │  [Basic] [Scientific] [Tools] [Converter] [History]    │ │ │  │
│  │  │  └──────────────────────────────────────────────────────────┘ │ │  │
│  │  │                                                                │ │  │
│  │  │  ┌──────────────────────────────────────────────────────────┐ │ │  │
│  │  │  │  ScrollArea (Tab Content)                              │ │ │  │
│  │  │  │                                                         │ │ │  │
│  │  │  │  ┌─────────────────────────────────────────────────┐  │ │ │  │
│  │  │  │  │ TAB 1: BASIC CALCULATOR                        │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ ┌─────────────────────────────────────────┐   │  │ │ │  │
│  │  │  │  │ │ Display: [0]                            │   │  │ │ │  │
│  │  │  │  │ └─────────────────────────────────────────┘   │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ ┌─────────────────────────────────────────┐   │  │ │ │  │
│  │  │  │  │ │ [Clear] [Clear] [÷] [×]                │   │  │ │ │  │
│  │  │  │  │ │ [7] [8] [9] [−]                        │   │  │ │ │  │
│  │  │  │  │ │ [4] [5] [6] [+]                        │   │  │ │ │  │
│  │  │  │  │ │ [1] [2] [3] [=]                        │   │  │ │ │  │
│  │  │  │  │ │ [0] [0] [.] [=]                        │   │  │ │ │  │
│  │  │  │  │ │ [%] [x^y] [+/−]                        │   │  │ │ │  │
│  │  │  │  │ └─────────────────────────────────────────┘   │  │ │ │  │
│  │  │  │  └─────────────────────────────────────────────────┘  │ │ │  │
│  │  │  │                                                         │ │ │  │
│  │  │  │  ┌─────────────────────────────────────────────────┐  │ │ │  │
│  │  │  │  │ TAB 2: SCIENTIFIC CALCULATOR                   │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ ┌─────────────────────────────────────────┐   │  │ │ │  │
│  │  │  │  │ │ Display: [0]                            │   │  │ │ │  │
│  │  │  │  │ │ [DEG] [RAD] [M: 0]                      │   │  │ │ │  │
│  │  │  │  │ └─────────────────────────────────────────┘   │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ Memory: [MC] [MR] [M+] [M−] [M×] [M÷]        │  │ │ │  │
│  │  │  │  │ Trig:   [sin] [cos] [tan] [asin] [acos] [atan]│  │ │ │  │
│  │  │  │  │ Log:    [√] [∛] [log] [ln] [e^x] [n!]        │  │ │ │  │
│  │  │  │  │ Power:  [x²] [x³] [1/x] [|x|] [π] [e]        │  │ │ │  │
│  │  │  │  └─────────────────────────────────────────────────┘  │ │ │  │
│  │  │  │                                                         │ │ │  │
│  │  │  │  ┌─────────────────────────────────────────────────┐  │ │ │  │
│  │  │  │  │ TAB 3: TOOLS                                   │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ ┌─ Tax Calculator ─────────────────────────┐  │  │ │ │  │
│  │  │  │  │ │ [Amount] [Rate %]                        │  │  │ │ │  │
│  │  │  │  │ │ [Calculate] → Tax: ₹X | Total: ₹Y      │  │  │ │ │  │
│  │  │  │  │ └──────────────────────────────────────────┘  │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ ┌─ GST Calculator ──────────────────────────┐  │  │ │ │  │
│  │  │  │  │ │ [Amount] [GST %]                         │  │  │ │ │  │
│  │  │  │  │ │ [Calculate] → GST: ₹X | Total: ₹Y       │  │  │ │ │  │
│  │  │  │  │ └──────────────────────────────────────────┘  │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ ┌─ Discount Calculator ─────────────────────┐  │  │ │ │  │
│  │  │  │  │ │ [Amount] [Discount %]                    │  │  │ │ │  │
│  │  │  │  │ │ [Calculate] → Discount: ₹X | Final: ₹Y  │  │  │ │ │  │
│  │  │  │  │ └──────────────────────────────────────────┘  │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ ┌─ EMI Calculator ──────────────────────────┐  │  │ │ │  │
│  │  │  │  │ │ [Loan] [Rate] [Months]                   │  │  │ │ │  │
│  │  │  │  │ │ [Calculate] → EMI: ₹X | Total: ₹Y       │  │  │ │ │  │
│  │  │  │  │ └──────────────────────────────────────────┘  │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ ┌─ Percentage Calculator ───────────────────┐  │  │ │ │  │
│  │  │  │  │ │ [Base] [Value]                           │  │  │ │ │  │
│  │  │  │  │ │ [Calculate] → Percentage: X%             │  │  │ │ │  │
│  │  │  │  │ └──────────────────────────────────────────┘  │  │ │ │  │
│  │  │  │  └─────────────────────────────────────────────────┘  │ │ │  │
│  │  │  │                                                         │ │ │  │
│  │  │  │  ┌─────────────────────────────────────────────────┐  │ │ │  │
│  │  │  │  │ TAB 4: CONVERTER                              │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ Length:      [km ↔ miles] [m ↔ feet] ...    │  │ │ │  │
│  │  │  │  │ Weight:      [kg ↔ lbs] [g ↔ oz] ...        │  │ │ │  │
│  │  │  │  │ Temperature: [°C ↔ °F] [°C ↔ K]             │  │ │ │  │
│  │  │  │  │ Volume:      [L ↔ gal] [ml ↔ fl oz] ...     │  │ │ │  │
│  │  │  │  └─────────────────────────────────────────────────┘  │ │ │  │
│  │  │  │                                                         │ │ │  │
│  │  │  │  ┌─────────────────────────────────────────────────┐  │ │ │  │
│  │  │  │  │ TAB 5: HISTORY                                │  │ │ │  │
│  │  │  │  │                                                 │  │ │ │  │
│  │  │  │  │ ┌─────────────────────────────────────────┐   │  │ │ │  │
│  │  │  │  │ │ 5 + 3 = 8                    [Copy]    │   │  │ │ │  │
│  │  │  │  │ │ 10 - 4 = 6                   [Copy]    │   │  │ │ │  │
│  │  │  │  │ │ 6 × 7 = 42                   [Copy]    │   │  │ │ │  │
│  │  │  │  │ │ ...                                     │   │  │ │ │  │
│  │  │  │  │ └─────────────────────────────────────────┘   │  │ │ │  │
│  │  │  │  │ [Clear History]                                │  │ │ │  │
│  │  │  │  └─────────────────────────────────────────────────┘  │ │ │  │
│  │  │  │                                                         │ │ │  │
│  │  │  └─────────────────────────────────────────────────────────┘ │ │  │
│  │  │                                                                │ │  │
│  │  └────────────────────────────────────────────────────────────────┘ │  │
│  │                                                                      │  │
│  └──────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════

STATE MANAGEMENT FLOW:

┌─────────────────────────────────────────────────────────────────────────────┐
│                          CalculatorDialog State                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  Calculator State:                                                          │
│  ├─ display: string (current display value)                               │
│  ├─ previousValue: number | null (previous operand)                       │
│  ├─ operation: string | null (current operation)                          │
│  ├─ waitingForNewValue: boolean (flag for new input)                      │
│  ├─ memory: number (memory storage)                                       │
│  ├─ history: { expression, result }[] (calculation history)               │
│  └─ angle: "deg" | "rad" (angle mode)                                     │
│                                                                             │
│  Tool States:                                                               │
│  ├─ Tax: taxAmount, taxRate, taxResult                                    │
│  ├─ GST: gstAmount, gstRate, gstResult                                    │
│  ├─ Discount: discountAmount, discountPercent, discountResult             │
│  ├─ EMI: loanAmount, loanRate, loanMonths, loanResult                     │
│  └─ Percentage: percentageBase, percentageValue, percentageResult         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════

EVENT FLOW:

User Click → Button onClick → setOpen(true) → Dialog Opens
                                              ↓
                                    User Selects Tab
                                              ↓
                                    User Enters Values
                                              ↓
                                    User Clicks Calculate
                                              ↓
                                    Function Executes
                                              ↓
                                    Result Displayed
                                              ↓
                                    User Clicks Copy
                                              ↓
                                    Result Copied to Clipboard
                                              ↓
                                    History Updated

═══════════════════════════════════════════════════════════════════════════════

COMPONENT HIERARCHY:

FloatingCalculator
├── Button (shadcn)
│   └── Calculator Icon (lucide-react)
└── CalculatorDialog
    └── Dialog (shadcn)
        ├── DialogContent
        │   ├── DialogHeader
        │   │   └── DialogTitle
        │   └── Tabs (shadcn)
        │       ├── TabsList
        │       ├── TabsContent (Basic)
        │       │   └── Grid of Buttons
        │       ├── TabsContent (Scientific)
        │       │   └── Grid of Buttons
        │       ├── TabsContent (Tools)
        │       │   ├── Tax Calculator
        │       │   ├── GST Calculator
        │       │   ├── Discount Calculator
        │       │   ├── EMI Calculator
        │       │   └── Percentage Calculator
        │       ├── TabsContent (Converter)
        │       │   └── Conversion Buttons
        │       └── TabsContent (History)
        │           └── History List
        └── ScrollArea (shadcn)

═══════════════════════════════════════════════════════════════════════════════

STYLING LAYERS:

┌─ Outer Container ─────────────────────────────────────────────────────────┐
│ Fixed Position | Bottom-Right | Z-Index 40                               │
│                                                                            │
│ ┌─ Button ──────────────────────────────────────────────────────────────┐ │
│ │ Gradient: from-blue-600 to-blue-700                                  │ │
│ │ Hover: from-blue-700 to-blue-800 + Scale + Shadow                   │ │
│ │ Size: 56px × 56px (w-14 h-14)                                       │ │
│ │ Border-Radius: Full (rounded-full)                                  │ │
│ │                                                                       │ │
│ │ ┌─ Icon ────────────────────────────────────────────────────────┐  │ │
│ │ │ Lucide Calculator Icon (24×24)                               │  │ │
│ │ │ Color: White                                                 │  │ │
│ │ └────────────────────────────────────────────────────────────────┘  │ │
│ │                                                                       │ │
│ │ ┌─ Tooltip ─────────────────────────────────────────────────────┐  │ │
│ │ │ Text: "Advanced Calculator"                                  │  │ │
│ │ │ Background: Gray-900                                         │  │ │
│ │ │ Opacity: 0 → 100 on hover                                   │  │ │
│ │ └────────────────────────────────────────────────────────────────┘  │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
│                                                                            │
│ ┌─ Modal Dialog ─────────────────────────────────────────────────────────┐ │
│ │ Max-Width: 2xl (672px)                                               │ │
│ │ Max-Height: 90vh                                                     │ │
│ │ Background: White                                                    │ │
│ │ Border-Radius: lg                                                    │ │
│ │ Box-Shadow: 2xl                                                      │ │
│ │                                                                       │ │
│ │ ┌─ Header ──────────────────────────────────────────────────────┐  │ │
│ │ │ Gradient: from-blue-600 to-blue-700                          │  │ │
│ │ │ Text: White                                                  │  │ │
│ │ │ Padding: 1rem (p-4)                                          │  │ │
│ │ │ Border-Radius: Top (rounded-t-lg)                            │  │ │
│ │ └────────────────────────────────────────────────────────────────┘  │ │
│ │                                                                       │ │
│ │ ┌─ Tabs ─────────────────────────────────────────────────────────┐  │ │
│ │ │ Grid: 5 columns                                               │  │ │
│ │ │ Background: Gray-50                                           │  │ │
│ │ │ Border-Bottom: 1px                                            │  │ │
│ │ └────────────────────────────────────────────────────────────────┘  │ │
│ │                                                                       │ │
│ │ ┌─ Content ──────────────────────────────────────────────────────┐  │ │
│ │ │ Padding: 1.5rem (p-6)                                         │  │ │
│ │ │ Scrollable: Yes                                               │  │ │
│ │ │ Max-Height: Flex-1                                            │  │ │
│ │ └────────────────────────────────────────────────────────────────┘  │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘

╚════════════════════════════════════════════════════════════════════════════════╝
